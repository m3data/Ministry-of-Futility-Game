<!-- 
 * Ministry of Futility
 * Copyright (C) 2024 Mathew Mytka - m3metix
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 *-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Ministry of Futility</title>
    <link rel="stylesheet" href="static/css/style.css">
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        if (!urlParams.has('visited')) {
            window.location.href = 'game-intro.html';
        }
    </script>
    <script src="static/js/script.js"></script>
    <script src="static/js/butterflyEffect.js" defer></script>
    <script src="static/js/playerChoiceTracker.js"></script>
</head>
<body>
  <svg width="0" height="0" style="position: absolute;">
    <defs>
      <pattern id="bureaucracy-pattern" x="0" y="0" width="100" height="100" patternUnits="userSpaceOnUse">
        <path d="M10 10 L20 10 L20 20 L10 20 Z" fill="none" stroke="#ddd" stroke-width="1"/>
        <circle cx="50" cy="50" r="5" fill="none" stroke="#ddd" stroke-width="1"/>
        <path d="M80 80 L90 80 L85 90 Z" fill="none" stroke="#ddd" stroke-width="1"/>
      </pattern>
      <symbol id="futility-icon" viewBox="0 0 24 24">
        <path d="M12 2 L12 22 M2 12 L22 12" stroke="black" stroke-width="2" fill="none">
          <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="10s" repeatCount="indefinite"/>
        </path>
      </symbol>
      
      <symbol id="wisdom-icon" viewBox="0 0 24 24">
        <circle cx="12" cy="12" r="10" stroke="black" stroke-width="2" fill="none">
          <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="-360 12 12" dur="15s" repeatCount="indefinite"/>
        </circle>
      </symbol>
      
      <symbol id="woo-icon" viewBox="0 0 24 24">
        <path d="M12 2 L20.8 7 L20.8 17 L12 22 L3.2 17 L3.2 7 Z" stroke="black" stroke-width="2" fill="none">
          <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="20s" repeatCount="indefinite"/>
        </path>
      </symbol>
    </defs>
  </svg>
  <header class="sticky-header">
    <div class="header-content">
      <h1 class="header-title glitch-text" data-text="Ministry of Futility">Ministry of Futility</h1>
      <h2 class="header-subtitle">A Bureacratic Nightmare</h2>
      <div class="game-metrics">
        <div class="metric">
          <svg class="meter-icon"><use href="#futility-icon"/></svg>
          <div class="meter-background">
            <div id="futility-meter" class="meter">
              <span class="metric-label">Futility</span>
            </div>
          </div>
        </div>
        <div class="metric">
          <svg class="meter-icon"><use href="#wisdom-icon"/></svg>
          <div class="meter-background">
            <div id="wisdom-meter" class="meter">
              <span class="metric-label">Wisdom</span>
            </div>
          </div>
        </div>
        <div class="metric">
          <svg class="meter-icon"><use href="#woo-icon"/></svg>
          <div class="meter-background">
            <div id="woo-meter" class="meter">
              <span class="metric-label">Woo</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <div id="story"></div>
  </main>
  
    
        <!-- TODO glitch overlay for scene transitions -->
        <div id="glitch-overlay" class="hidden"></div>
    </div>
</body>
</html>